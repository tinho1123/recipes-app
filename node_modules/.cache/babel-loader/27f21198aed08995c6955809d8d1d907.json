{"ast":null,"code":"var _jsxFileName = \"/home/wellington/\\xC1rea de Trabalho/projects/sd-016-b-project-recipes-app/src/pages/Details.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Favorite from '../components/Favorite';\nimport Recommended from '../components/Recommended';\nimport Share from '../components/Share';\nimport './Details.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst fetchItemByID = async (id, food, set) => {\n  let url = `https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`;\n  if (food) url = `https://www.themealdb.com/api/json/v1/1/lookup.php?i=${id}`;\n  const apiPromise = await fetch(url);\n  const jsonData = await apiPromise.json();\n\n  if (food) {\n    set(jsonData.meals[0]);\n  } else {\n    set(jsonData.drinks[0]);\n  }\n};\n\nfunction createList(lista) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Ingredients\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: Object.entries(lista).map((i, x, a) => {\n        if (i[0].includes('strIngredient') && i[1] !== '' && i[1] !== null) {\n          let offset = +'15';\n          if (a[0][0] === 'idMeal') offset = +'20';\n          const indice = i[0].split('strIngredient')[1] - 1;\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            \"data-testid\": `${indice}-ingredient-name-and-measure`,\n            children: [a[x + offset][1], ' ', i[1]]\n          }, x, true, {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 15\n          }, this);\n        }\n\n        return null;\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n}\n\nconst ytVideo = (id, title) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"videoTutorial\",\n  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n    children: \"Video\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n    title: title,\n    width: \"320\",\n    height: \"240\",\n    src: `https://www.youtube.com/embed/${id}`,\n    \"data-testid\": \"video\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 44,\n  columnNumber: 3\n}, this);\n\nexport default function Details() {\n  _s();\n\n  const [r, setRecipe] = useState(null);\n  const href = window.location.href.split('/');\n  const history = useHistory();\n  const {\n    location: {\n      pathname,\n      state\n    }\n  } = history;\n  const food = pathname.split('/')[1] === 'foods'; // Foods OR Drinks\n\n  const id = pathname.split('/')[2]; // Foods OR Drinks id\n\n  useEffect(() => {\n    if (state) setRecipe(state[0]); // requisito 32\n    else fetchItemByID(id, food, setRecipe);\n  }, []);\n\n  if (!r) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Carregando ...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"containerDetails\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"RecipeDetailsdescription\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        \"data-testid\": \"recipe-photo\",\n        className: \"imgRecipe\",\n        src: r.strMealThumb || r.strDrinkThumb,\n        alt: r.strMeal || r.strDrink\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        \"data-testid\": \"recipe-title\",\n        children: r.strMeal || r.strDrink\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        \"data-testid\": \"recipe-category\",\n        children: `${r.strCategory} - ${r.strAlcoholic === undefined ? null : r.strAlcoholic}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Share, {\n      url: `${href.splice(0, href.length - 1).join('/')}/${id}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Favorite, {\n      recipe: r,\n      food: food\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ingredientsList\",\n      children: createList(r)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"instructions\",\n      children: \"Instructions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      \"data-testid\": \"instructions\",\n      className: \"instructionsText\",\n      children: r.strInstructions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), r.strYoutube ? ytVideo(r.strYoutube.split('=')[1], r.strMeal) : null, /*#__PURE__*/_jsxDEV(Recommended, {\n      type: food ? 'foods' : 'drinks'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"start-recipe-btn\",\n      className: \"start-recipe-btn\",\n      onClick: () => history.push({\n        pathname: `/${food ? 'foods' : 'drinks'}/${id}/in-progress`,\n        state: r\n      }),\n      children: \"Continue Recipe\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Details, \"wuIbbmkXyk7aD4W+inl35PMuWO8=\", false, function () {\n  return [useHistory];\n});\n\n_c = Details;\n\nvar _c;\n\n$RefreshReg$(_c, \"Details\");","map":{"version":3,"sources":["/home/wellington/√Årea de Trabalho/projects/sd-016-b-project-recipes-app/src/pages/Details.jsx"],"names":["React","useEffect","useState","useHistory","Favorite","Recommended","Share","fetchItemByID","id","food","set","url","apiPromise","fetch","jsonData","json","meals","drinks","createList","lista","Object","entries","map","i","x","a","includes","offset","indice","split","ytVideo","title","Details","r","setRecipe","href","window","location","history","pathname","state","strMealThumb","strDrinkThumb","strMeal","strDrink","strCategory","strAlcoholic","undefined","splice","length","join","strInstructions","strYoutube","push"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Favorite from '../components/Favorite';\nimport Recommended from '../components/Recommended';\nimport Share from '../components/Share';\nimport './Details.css';\n\nconst fetchItemByID = async (id, food, set) => {\n  let url = `https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`;\n  if (food) url = `https://www.themealdb.com/api/json/v1/1/lookup.php?i=${id}`;\n  const apiPromise = await fetch(url);\n  const jsonData = await apiPromise.json();\n  if (food) { set(jsonData.meals[0]); } else { set(jsonData.drinks[0]); }\n};\n\nfunction createList(lista) {\n  return (\n    <div>\n      <h2>Ingredients</h2>\n      <ul>\n        {Object.entries(lista).map((i, x, a) => {\n          if (i[0].includes('strIngredient') && i[1] !== '' && i[1] !== null) {\n            let offset = +'15';\n            if (a[0][0] === 'idMeal') offset = +'20';\n            const indice = i[0].split('strIngredient')[1] - 1;\n            return (\n              <li\n                data-testid={ `${indice}-ingredient-name-and-measure` }\n                key={ x }\n              >\n                {a[x + offset][1]}\n                {' '}\n                {i[1]}\n              </li>);\n          }\n          return null;\n        })}\n      </ul>\n    </div>\n  );\n}\n\nconst ytVideo = (id, title) => (\n  <div className=\"videoTutorial\">\n    <h2>Video</h2>\n    <iframe\n      title={ title }\n      width=\"320\"\n      height=\"240\"\n      src={ `https://www.youtube.com/embed/${id}` }\n      data-testid=\"video\"\n    />\n  </div>\n);\n\nexport default function Details() {\n  const [r, setRecipe] = useState(null);\n  const href = window.location.href.split('/');\n  const history = useHistory();\n  const { location: { pathname, state } } = history;\n  const food = pathname.split('/')[1] === 'foods'; // Foods OR Drinks\n  const id = pathname.split('/')[2]; // Foods OR Drinks id\n\n  useEffect(() => {\n    if (state) setRecipe(state[0]); // requisito 32\n    else fetchItemByID(id, food, setRecipe);\n  }, []);\n\n  if (!r) { return (<div>Carregando ...</div>); }\n  return (\n    <div className=\"containerDetails\">\n      <div className=\"RecipeDetailsdescription\">\n        <img\n          data-testid=\"recipe-photo\"\n          className=\"imgRecipe\"\n          src={ r.strMealThumb || r.strDrinkThumb }\n          alt={ r.strMeal || r.strDrink }\n        />\n        <h1 data-testid=\"recipe-title\">{r.strMeal || r.strDrink}</h1>\n        <h2 data-testid=\"recipe-category\">\n          {`${r.strCategory} - ${r.strAlcoholic === undefined ? null : r.strAlcoholic}`}\n        </h2>\n      </div>\n      <Share url={ `${href.splice(0, href.length - 1).join('/')}/${id}` } />\n      <Favorite recipe={ r } food={ food } />\n\n      <div className=\"ingredientsList\">{ createList(r) }</div>\n\n      <h2 className=\"instructions\">Instructions</h2>\n      <p data-testid=\"instructions\" className=\"instructionsText\">{r.strInstructions}</p>\n\n      {r.strYoutube ? ytVideo(r.strYoutube.split('=')[1], r.strMeal) : null}\n\n      <Recommended type={ food ? 'foods' : 'drinks' } />\n      <button\n        type=\"button\"\n        data-testid=\"start-recipe-btn\"\n        className=\"start-recipe-btn\"\n        onClick={ () => history.push({\n          pathname: `/${food ? 'foods' : 'drinks'}/${id}/in-progress`,\n          state: r }) }\n      >\n        Continue Recipe\n      </button>\n\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}