{"ast":null,"code":"var _jsxFileName = \"/home/wellington/\\xC1rea de Trabalho/projects/sd-016-b-project-recipes-app/src/pages/FavDoneRecipes.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport favoriteIcon from '../images/blackHeartIcon.svg';\nimport shareIcon from '../images/shareIcon.svg';\nimport './FavDoneRecipes.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst copy = require('clipboard-copy');\n\nconst card = _ref => {\n  let {\n    i,\n    k,\n    share,\n    copied,\n    go,\n    unFav\n  } = _ref;\n  const url = `/${i.type}s/${i.id}`;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => go(url),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-testid\": `${k}-horizontal-name`,\n        children: i.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        \"data-testid\": `${k}-horizontal-image`,\n        src: i.image,\n        alt: i.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": `${k}-horizontal-top-text`,\n      children: `${i.nationality} - ${i.category} - ${i.alcoholicOrNot}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": `${k}-horizontal-done-date`,\n      children: i.doneDate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => share(url),\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        \"data-testid\": `${k}-horizontal-share-btn`,\n        src: shareIcon,\n        alt: \"share\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }, this), copied.includes(url) && 'Link copied!']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => unFav(i.id),\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        \"data-testid\": `${k}-horizontal-favorite-btn`,\n        src: favoriteIcon,\n        alt: \"favorite\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), copied.includes(url) && 'Link copied!']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), i.tags ? i.tags.map((j, x) => /*#__PURE__*/_jsxDEV(\"p\", {\n      \"data-testid\": `${k}-${j}-horizontal-tag`,\n      children: j\n    }, x, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this)) : null]\n  }, k, true, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }, this);\n};\n\nexport default function FavDoneRecipes() {\n  _s();\n\n  const [recipes, setRecipes] = useState([]);\n  const [copied, setCopied] = useState([]);\n  const [filter, setFilter] = useState('');\n  const history = useHistory();\n  const href = window.location.href.split('/');\n  useEffect(() => {\n    let key = 'doneRecipes';\n    if (href[href.length - 1] === 'favorite-recipes') key = 'favoriteRecipes';\n    if (localStorage.getItem(key)) setRecipes(JSON.parse(localStorage.getItem(key)));\n  }, []);\n\n  const share = url => {\n    copy(`${href.splice(0, href.length - 1).join('/')}${url}`);\n    setCopied([...copied, url]);\n  };\n\n  const go = url => history.push(url);\n\n  const unFav = id => {\n    const fav = recipes.filter(i => i.id !== id);\n    localStorage.setItem('favoriteRecipes', JSON.stringify(fav));\n    setRecipes(fav);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"containerFavDoneRecipes\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"buttonFilterFavDoneRecipes\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setFilter(''),\n        \"data-testid\": \"filter-by-all-btn\",\n        children: \"Tudo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setFilter('food'),\n        \"data-testid\": \"filter-by-food-btn\",\n        children: \"Comidas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setFilter('drink'),\n        \"data-testid\": \"filter-by-drink-btn\",\n        children: \"Bebidas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), filter === '' ? recipes.map((i, k) => card({\n      i,\n      k,\n      share,\n      copied,\n      go,\n      filter,\n      unFav\n    })) : recipes.filter(j => j.type === filter).map((i, k) => card({\n      i,\n      k,\n      share,\n      copied,\n      go,\n      filter\n    }))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FavDoneRecipes, \"taI3bcEWRkk/m6MqLGw2+nDslEI=\", false, function () {\n  return [useHistory];\n});\n\n_c = FavDoneRecipes;\n\nvar _c;\n\n$RefreshReg$(_c, \"FavDoneRecipes\");","map":{"version":3,"sources":["/home/wellington/√Årea de Trabalho/projects/sd-016-b-project-recipes-app/src/pages/FavDoneRecipes.jsx"],"names":["React","useEffect","useState","useHistory","favoriteIcon","shareIcon","copy","require","card","i","k","share","copied","go","unFav","url","type","id","name","image","nationality","category","alcoholicOrNot","doneDate","includes","tags","map","j","x","FavDoneRecipes","recipes","setRecipes","setCopied","filter","setFilter","history","href","window","location","split","key","length","localStorage","getItem","JSON","parse","splice","join","push","fav","setItem","stringify"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport favoriteIcon from '../images/blackHeartIcon.svg';\nimport shareIcon from '../images/shareIcon.svg';\nimport './FavDoneRecipes.css';\n\nconst copy = require('clipboard-copy');\n\nconst card = ({ i, k, share, copied, go, unFav }) => {\n  const url = `/${i.type}s/${i.id}`;\n  return (\n    <div key={ k }>\n      <button type=\"button\" onClick={ () => go(url) }>\n        <div data-testid={ `${k}-horizontal-name` }>{i.name}</div>\n        <img data-testid={ `${k}-horizontal-image` } src={ i.image } alt={ i.name } />\n      </button>\n      <div data-testid={ `${k}-horizontal-top-text` }>\n        {`${i.nationality} - ${i.category} - ${i.alcoholicOrNot}`}\n      </div>\n      <div data-testid={ `${k}-horizontal-done-date` }>{i.doneDate}</div>\n\n      <button type=\"button\" onClick={ () => share(url) }>\n        <img data-testid={ `${k}-horizontal-share-btn` } src={ shareIcon } alt=\"share\" />\n        {copied.includes(url) && 'Link copied!'}\n      </button>\n\n      <button type=\"button\" onClick={ () => unFav(i.id) }>\n        <img\n          data-testid={ `${k}-horizontal-favorite-btn` }\n          src={ favoriteIcon }\n          alt=\"favorite\"\n        />\n        {copied.includes(url) && 'Link copied!'}\n      </button>\n\n      {i.tags ? i.tags.map((j, x) => (\n        <p key={ x } data-testid={ `${k}-${j}-horizontal-tag` }>{j}</p>)) : null}\n    </div>\n  );\n};\n\nexport default function FavDoneRecipes() {\n  const [recipes, setRecipes] = useState([]);\n  const [copied, setCopied] = useState([]);\n  const [filter, setFilter] = useState('');\n  const history = useHistory();\n  const href = window.location.href.split('/');\n\n  useEffect(() => {\n    let key = 'doneRecipes';\n    if (href[href.length - 1] === 'favorite-recipes') key = 'favoriteRecipes';\n    if (localStorage.getItem(key)) setRecipes(JSON.parse(localStorage.getItem(key)));\n  }, []);\n\n  const share = (url) => {\n    copy(`${href.splice(0, href.length - 1).join('/')}${url}`);\n    setCopied([...copied, url]);\n  };\n\n  const go = (url) => history.push(url);\n\n  const unFav = (id) => {\n    const fav = recipes.filter((i) => i.id !== id);\n    localStorage.setItem('favoriteRecipes', JSON.stringify(fav));\n    setRecipes(fav);\n  };\n\n  return (\n    <div className=\"containerFavDoneRecipes\">\n      {/* FILTROS */}\n      <div className=\"buttonFilterFavDoneRecipes\">\n        <button\n          type=\"button\"\n          onClick={ () => setFilter('') }\n          data-testid=\"filter-by-all-btn\"\n        >\n          Tudo\n        </button>\n        <button\n          type=\"button\"\n          onClick={ () => setFilter('food') }\n          data-testid=\"filter-by-food-btn\"\n        >\n          Comidas\n        </button>\n        <button\n          type=\"button\"\n          onClick={ () => setFilter('drink') }\n          data-testid=\"filter-by-drink-btn\"\n        >\n          Bebidas\n        </button>\n      </div>\n      {/* CARDS */}\n      {filter === '' ? recipes\n        .map((i, k) => card({ i, k, share, copied, go, filter, unFav }))\n        : recipes.filter((j) => j.type === filter)\n          .map((i, k) => card({ i, k, share, copied, go, filter }))}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}