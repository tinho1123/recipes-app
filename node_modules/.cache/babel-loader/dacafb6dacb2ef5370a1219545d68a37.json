{"ast":null,"code":"var _jsxFileName = \"/home/wellington/\\xC1rea de Trabalho/projects/sd-016-b-project-recipes-app/src/pages/InProgress.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\nimport Favorite from '../components/Favorite';\nimport Share from '../components/Share';\nimport './InProgress.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst fetchFoodID = async (id, set) => {\n  const FETCH_URL = `https://www.themealdb.com/api/json/v1/1/lookup.php?i=${id}`;\n  const apiPromise = await fetch(FETCH_URL);\n  const jsonData = await apiPromise.json();\n  set(jsonData.meals[0]);\n};\n\nconst fetchDrinkID = async (id, set) => {\n  const FETCH_URL = `https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`;\n  const apiPromise = await fetch(FETCH_URL);\n  const jsonData = await apiPromise.json();\n  set(jsonData.drinks[0]);\n};\n\nfunction createList(lista, stripe, setStripe, onCheck) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Ingredients\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: Object.entries(lista).map((i, x, a) => {\n        if (i[0].includes('strIngredient') && i[1] !== '' && i[1] !== null) {\n          let offset = +'15';\n          if (a[0][0] === 'idMeal') offset = +'20';\n          const indice = i[0].split('strIngredient')[1] - 1;\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: `ingredient-${indice}`,\n              \"data-testid\": `${indice}-ingredient-step`,\n              style: stripe[indice] ? {\n                textDecorationLine: 'line-through'\n              } : null,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                id: `ingredient-${indice}`,\n                type: \"checkbox\",\n                className: \"ingredient-check\",\n                checked: stripe[indice],\n                onChange: () => {\n                  setStripe({ ...stripe,\n                    [indice]: !stripe[indice]\n                  });\n                  onCheck({ ...stripe,\n                    [indice]: !stripe[indice]\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 41,\n                columnNumber: 19\n              }, this), ' ', a[x + offset][1], ' ', i[1]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 17\n            }, this)\n          }, x, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 15\n          }, this);\n        }\n\n        return null;\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n} // const copyClipboard = async () => {\n//   await navigator.clipboard.writeText(window.location.href);\n//   global.alert('Link copied!');\n//   const appended = document.createElement('p');\n//   document.body.appendChild(appended);\n//   appended.innerHTML = 'Link copied!';\n// };\n\n\nexport default function InProgress() {\n  _s();\n\n  const {\n    location: {\n      state,\n      pathname\n    }\n  } = useHistory();\n  const history = useHistory();\n  const [stripe, setStripe] = useState({});\n  const [item, setItem] = useState({});\n  const [progress, setProgress] = useState({});\n  const [conclude, setConclude] = useState(false);\n  const [nIngredients, setNIngredients] = useState(0);\n  const food = pathname.split('/')[1] === 'foods'; // Foods OR Drinks\n\n  const id = pathname.split('/')[2]; // Foods OR Drinks id\n\n  const href = window.location.href.split('/');\n  useEffect(() => {\n    // ComponentDidMount\n    if (!state && food) fetchFoodID(id, setItem);else if (!state) fetchDrinkID(id, setItem);else setItem(state);\n\n    if (localStorage.getItem('inProgressRecipes')) {\n      const s = JSON.parse(localStorage.getItem('inProgressRecipes'));\n      let key = 'cocktails';\n      if (food) key = 'meals';\n      if (s[key]) setStripe({ ...s[key][id]\n      }); // setProgress(JSON.parse(localStorage.getItem('inProgressRecipes')));\n    }\n  }, []);\n  useEffect(() => {\n    setNIngredients(Object.entries(item).filter(i => i[0].includes('strIngredient') && i[1] !== '' && i[1] !== null).length);\n  }, [item]);\n\n  const onCheck = s => {\n    let key = 'cocktails';\n\n    if (food) {\n      key = 'meals';\n    }\n\n    localStorage.setItem('inProgressRecipes', JSON.stringify({ ...progress,\n      [key]: {\n        [id]: s,\n        ...progress.key\n      }\n    }));\n    setProgress({ ...progress,\n      [key]: {\n        [id]: s,\n        ...progress.key\n      }\n    });\n  };\n\n  useEffect(() => setConclude(nIngredients - Object.values(stripe).filter(i => i === true).length), [stripe, nIngredients]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"containerFoodDetails\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"foodDetailsdescription\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        \"data-testid\": \"recipe-photo\",\n        src: item.strMealThumb || item.strDrinkThumb,\n        alt: item.strMeal || item.strDrink\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        \"data-testid\": \"recipe-title\",\n        children: item.strMeal || item.strDrink\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        \"data-testid\": \"recipe-category\",\n        children: item.strCategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Share, {\n      url: href.splice(0, href.length - 1).join('/')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Favorite, {\n      recipe: item,\n      food: food\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ingredientsList\",\n      children: createList(item, stripe, setStripe, onCheck)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      \"data-testid\": \"instructions\",\n      children: item.strInstructions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"instructions\",\n      children: \"Instructions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      \"data-testid\": \"instructions\",\n      className: \"instructionsText\",\n      children: item.strInstructions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      \"data-testid\": \"finish-recipe-btn\",\n      className: \"finish-recipe-btn\",\n      type: \"button\",\n      disabled: conclude,\n      onClick: () => history.push('/done-recipes'),\n      children: \"Finalizar Receita\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\n\n_s(InProgress, \"y3Vhgb3xk/sVR4IoX72PJPtZEhs=\", false, function () {\n  return [useHistory, useHistory];\n});\n\n_c = InProgress;\n\nvar _c;\n\n$RefreshReg$(_c, \"InProgress\");","map":{"version":3,"sources":["/home/wellington/Ãrea de Trabalho/projects/sd-016-b-project-recipes-app/src/pages/InProgress.jsx"],"names":["React","useEffect","useState","useHistory","Favorite","Share","fetchFoodID","id","set","FETCH_URL","apiPromise","fetch","jsonData","json","meals","fetchDrinkID","drinks","createList","lista","stripe","setStripe","onCheck","Object","entries","map","i","x","a","includes","offset","indice","split","textDecorationLine","InProgress","location","state","pathname","history","item","setItem","progress","setProgress","conclude","setConclude","nIngredients","setNIngredients","food","href","window","localStorage","getItem","s","JSON","parse","key","filter","length","stringify","values","strMealThumb","strDrinkThumb","strMeal","strDrink","strCategory","splice","join","strInstructions","push"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\nimport Favorite from '../components/Favorite';\nimport Share from '../components/Share';\nimport './InProgress.css';\n\nconst fetchFoodID = async (id, set) => {\n  const FETCH_URL = `https://www.themealdb.com/api/json/v1/1/lookup.php?i=${id}`;\n  const apiPromise = await fetch(FETCH_URL);\n  const jsonData = await apiPromise.json();\n  set(jsonData.meals[0]);\n};\n\nconst fetchDrinkID = async (id, set) => {\n  const FETCH_URL = `https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`;\n  const apiPromise = await fetch(FETCH_URL);\n  const jsonData = await apiPromise.json();\n  set(jsonData.drinks[0]);\n};\n\nfunction createList(lista, stripe, setStripe, onCheck) {\n  return (\n    <div>\n      <h2>Ingredients</h2>\n      <ul>\n        {Object.entries(lista).map((i, x, a) => {\n          if (i[0].includes('strIngredient') && i[1] !== '' && i[1] !== null) {\n            let offset = +'15';\n            if (a[0][0] === 'idMeal') offset = +'20';\n            const indice = i[0].split('strIngredient')[1] - 1;\n            return (\n              <li\n                key={ x }\n              >\n                <label\n                  htmlFor={ `ingredient-${indice}` }\n                  data-testid={ `${indice}-ingredient-step` }\n                  style={ stripe[indice]\n                    ? { textDecorationLine: 'line-through' } : null }\n                >\n                  <input\n                    id={ `ingredient-${indice}` }\n                    type=\"checkbox\"\n                    className=\"ingredient-check\"\n                    checked={ stripe[indice] }\n                    onChange={ () => {\n                      setStripe({ ...stripe, [indice]: !stripe[indice] });\n                      onCheck({ ...stripe, [indice]: !stripe[indice] });\n                    } }\n                  />\n                  {' '}\n                  {a[x + offset][1]}\n                  {' '}\n                  {i[1]}\n                </label>\n\n              </li>);\n          }\n          return null;\n        })}\n      </ul>\n    </div>\n  );\n}\n\n// const copyClipboard = async () => {\n//   await navigator.clipboard.writeText(window.location.href);\n//   global.alert('Link copied!');\n//   const appended = document.createElement('p');\n//   document.body.appendChild(appended);\n//   appended.innerHTML = 'Link copied!';\n// };\n\nexport default function InProgress() {\n  const { location: { state, pathname } } = useHistory();\n  const history = useHistory();\n  const [stripe, setStripe] = useState({});\n  const [item, setItem] = useState({});\n  const [progress, setProgress] = useState({});\n  const [conclude, setConclude] = useState(false);\n  const [nIngredients, setNIngredients] = useState(0);\n  const food = pathname.split('/')[1] === 'foods'; // Foods OR Drinks\n  const id = pathname.split('/')[2]; // Foods OR Drinks id\n  const href = window.location.href.split('/');\n\n  useEffect(() => { // ComponentDidMount\n    if (!state && food) fetchFoodID(id, setItem);\n    else if (!state) fetchDrinkID(id, setItem);\n    else setItem(state);\n    if (localStorage.getItem('inProgressRecipes')) {\n      const s = JSON.parse(localStorage.getItem('inProgressRecipes'));\n      let key = 'cocktails';\n      if (food) key = 'meals';\n      if (s[key]) setStripe({ ...s[key][id] });\n      // setProgress(JSON.parse(localStorage.getItem('inProgressRecipes')));\n    }\n  }, []);\n\n  useEffect(() => {\n    setNIngredients(Object.entries(item).filter((i) => i[0]\n      .includes('strIngredient') && i[1] !== '' && i[1] !== null).length);\n  }, [item]);\n\n  const onCheck = (s) => {\n    let key = 'cocktails';\n    if (food) { key = 'meals'; }\n    localStorage.setItem('inProgressRecipes',\n      JSON.stringify({ ...progress, [key]: { [id]: s, ...progress.key } }));\n    setProgress({ ...progress, [key]: { [id]: s, ...progress.key } });\n  };\n\n  useEffect(() => setConclude((nIngredients - Object.values(stripe)\n    .filter((i) => i === true).length)), [stripe, nIngredients]);\n\n  return (\n\n    <div className=\"containerFoodDetails\">\n      <div className=\"foodDetailsdescription\">\n        <img\n          data-testid=\"recipe-photo\"\n          src={ item.strMealThumb || item.strDrinkThumb }\n          alt={ item.strMeal || item.strDrink }\n        />\n        <h1 data-testid=\"recipe-title\">{item.strMeal || item.strDrink}</h1>\n        <h2 data-testid=\"recipe-category\">{item.strCategory}</h2>\n      </div>\n      <Share url={ href.splice(0, href.length - 1).join('/') } />\n      <Favorite recipe={ item } food={ food } />\n      <div className=\"ingredientsList\">\n        {createList(item, stripe, setStripe, onCheck)}\n      </div>\n      <p data-testid=\"instructions\">{item.strInstructions}</p>\n      <h2 className=\"instructions\">Instructions</h2>\n      <p\n        data-testid=\"instructions\"\n        className=\"instructionsText\"\n      >\n        {item.strInstructions}\n      </p>\n      <button\n        data-testid=\"finish-recipe-btn\"\n        className=\"finish-recipe-btn\"\n        type=\"button\"\n        disabled={ conclude }\n        onClick={ () => history.push('/done-recipes') }\n      >\n        Finalizar Receita\n      </button>\n    </div>\n\n  );\n}\n"]},"metadata":{},"sourceType":"module"}