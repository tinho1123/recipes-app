{"ast":null,"code":"var _jsxFileName = \"/home/wellington/\\xC1rea de Trabalho/projects/sd-016-b-project-recipes-app/src/pages/ExploreNationalities.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Context from '../context/Context';\nimport './ExploreNationalities.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst fetchFilter = set => {\n  fetch('https://www.themealdb.com/api/json/v1/1/list.php?a=list').then(r => r.json()).then(d => set(d.meals.map(i => i.strArea)));\n};\n\nconst fetchNat = (set, nat) => {\n  fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?a=${nat}`).then(r => r.json()).then(d => set(d.meals.splice(0, +'12')));\n};\n\nconst cards = (recipes, history) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"foods-cards-container\",\n  children: recipes.map((_ref, k) => {\n    let {\n      idMeal,\n      strMeal,\n      strMealThumb\n    } = _ref;\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"food-card\",\n      \"data-testid\": `${k}-recipe-card`,\n      onClick: () => history.push(`/foods/${idMeal}`, [{\n        idMeal,\n        strMeal,\n        strMealThumb\n      }]) // req 79.3 = 32\n      ,\n      type: \"button\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: k\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        \"data-testid\": `${k}-card-name`,\n        children: strMeal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: strMealThumb,\n        alt: strMeal,\n        \"data-testid\": `${k}-card-img`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this)]\n    }, k, true, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this);\n  })\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 17,\n  columnNumber: 3\n}, this);\n\nexport default function ExploreNationalities() {\n  _s();\n\n  const [n, setNacionalidades] = useState([]);\n  const [filtro, setFiltro] = useState('All');\n  const [meals, setMeals] = useState([]);\n  const {\n    recipes,\n    nameFoodFetcher\n  } = useContext(Context);\n  const history = useHistory();\n  useEffect(() => fetchFilter(setNacionalidades), []);\n  useEffect(() => {\n    if (!recipes.meals) {\n      nameFoodFetcher('');\n    }\n  }, []);\n  useEffect(() => {\n    if (filtro === 'All') {\n      setMeals([]);\n      return;\n    }\n\n    fetchNat(setMeals, filtro);\n  }, [filtro]);\n  const r = {\n    meals: [...(recipes.meals || [])]\n  };\n  const max = 12;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"containerExploreNationalities\",\n    children: [/*#__PURE__*/_jsxDEV(\"select\", {\n      \"data-testid\": \"explore-by-nationality-dropdown\",\n      onChange: _ref2 => {\n        let {\n          target\n        } = _ref2;\n        return setFiltro(target.value);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"All\",\n        \"data-testid\": \"All-option\",\n        children: \"All\"\n      }, 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), n.map((i, k) => /*#__PURE__*/_jsxDEV(\"option\", {\n        \"data-testid\": `${i}-option`,\n        value: i,\n        children: i\n      }, k + 1, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), cards(filtro === 'All' && r.meals ? r.meals.splice(0, max) : meals, history)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ExploreNationalities, \"oDzJfVZAWSbjttjwazukKpj6sZ4=\", false, function () {\n  return [useHistory];\n});\n\n_c = ExploreNationalities;\n\nvar _c;\n\n$RefreshReg$(_c, \"ExploreNationalities\");","map":{"version":3,"sources":["/home/wellington/Área de Trabalho/projects/sd-016-b-project-recipes-app/src/pages/ExploreNationalities.jsx"],"names":["React","useContext","useEffect","useState","useHistory","Context","fetchFilter","set","fetch","then","r","json","d","meals","map","i","strArea","fetchNat","nat","splice","cards","recipes","history","k","idMeal","strMeal","strMealThumb","push","ExploreNationalities","n","setNacionalidades","filtro","setFiltro","setMeals","nameFoodFetcher","max","target","value"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Context from '../context/Context';\nimport './ExploreNationalities.css';\n\nconst fetchFilter = (set) => {\n  fetch('https://www.themealdb.com/api/json/v1/1/list.php?a=list')\n    .then((r) => r.json()).then((d) => set(d.meals.map((i) => i.strArea)));\n};\n\nconst fetchNat = (set, nat) => {\n  fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?a=${nat}`)\n    .then((r) => r.json()).then((d) => set(d.meals.splice(0, +'12')));\n};\n\nconst cards = (recipes, history) => (\n  <div className=\"foods-cards-container\">\n    {recipes.map(({ idMeal, strMeal, strMealThumb }, k) => (\n      <button\n        className=\"food-card\"\n        key={ k }\n        data-testid={ `${k}-recipe-card` }\n        onClick={ () => history.push(`/foods/${idMeal}`,\n          [{ idMeal, strMeal, strMealThumb }]) } // req 79.3 = 32\n        type=\"button\"\n      >\n        <p>{k}</p>\n        <p data-testid={ `${k}-card-name` }>{strMeal}</p>\n        <img\n          src={ strMealThumb }\n          alt={ strMeal }\n          data-testid={ `${k}-card-img` }\n        />\n      </button>\n    ))}\n  </div>\n);\n\nexport default function ExploreNationalities() {\n  const [n, setNacionalidades] = useState([]);\n  const [filtro, setFiltro] = useState('All');\n  const [meals, setMeals] = useState([]);\n  const { recipes, nameFoodFetcher } = useContext(Context);\n  const history = useHistory();\n\n  useEffect(() => fetchFilter(setNacionalidades), []);\n  useEffect(() => { if (!recipes.meals) { nameFoodFetcher(''); } }, []);\n  useEffect(() => {\n    if (filtro === 'All') { setMeals([]); return; }\n    fetchNat(setMeals, filtro);\n  }, [filtro]);\n\n  const r = { meals: [...recipes.meals || []] };\n  const max = 12;\n  return (\n    <div className=\"containerExploreNationalities\">\n      {/* FILTRO */}\n      <select\n        data-testid=\"explore-by-nationality-dropdown\"\n        onChange={ ({ target }) => setFiltro(target.value) }\n      >\n        <option key={ 0 } value=\"All\" data-testid=\"All-option\">All</option>\n        {n.map((i, k) => (\n          <option key={ k + 1 } data-testid={ `${i}-option` } value={ i }>{i}</option>))}\n      </select>\n\n      {/* CARTÕES */}\n      { cards(filtro === 'All' && r.meals ? r.meals.splice(0, max) : meals, history)}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}